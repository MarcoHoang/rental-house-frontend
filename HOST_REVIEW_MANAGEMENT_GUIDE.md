# HÆ°á»›ng dáº«n quáº£n lÃ½ Ä‘Ã¡nh giÃ¡ cho chá»§ nhÃ 

## ğŸ¯ **TÃ­nh nÄƒng má»›i: Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡**

Chá»§ nhÃ  giá» Ä‘Ã¢y cÃ³ thá»ƒ quáº£n lÃ½ cÃ¡c Ä‘Ã¡nh giÃ¡ cá»§a user vá» nhÃ  cá»§a mÃ¬nh vá»›i hai quyá»n chÃ­nh:

### **1. áº¨n Ä‘Ã¡nh giÃ¡ (Hide Review)**
- âœ… **Chá»‰ áº©n Ä‘i, khÃ´ng máº¥t sá»‘ sao**
- âœ… **Váº«n tÃ­nh vÃ o trung bÃ¬nh rating**
- âœ… **CÃ³ thá»ƒ hiá»‡n láº¡i báº¥t cá»© lÃºc nÃ o**
- âœ… **PhÃ¹ há»£p cho Ä‘Ã¡nh giÃ¡ khÃ´ng phÃ¹ há»£p nhÆ°ng khÃ´ng muá»‘n máº¥t sao**

### **2. XÃ³a Ä‘Ã¡nh giÃ¡ (Delete Review)**
- âœ… **XÃ³a hoÃ n toÃ n khá»i há»‡ thá»‘ng**
- âœ… **Máº¥t cáº£ Ä‘Ã¡nh giÃ¡ vÃ  sá»‘ sao**
- âœ… **KhÃ´ng thá»ƒ khÃ´i phá»¥c**
- âœ… **PhÃ¹ há»£p cho Ä‘Ã¡nh giÃ¡ spam hoáº·c vi pháº¡m nghiÃªm trá»ng**

## ğŸš€ **CÃ¡ch sá»­ dá»¥ng:**

### **Trong trang chi tiáº¿t nhÃ  (HouseDetailPage):**
1. **ÄÄƒng nháº­p vá»›i tÃ i khoáº£n chá»§ nhÃ **
2. **VÃ o trang chi tiáº¿t nhÃ  cá»§a mÃ¬nh**
3. **Cuá»™n xuá»‘ng pháº§n "ÄÃ¡nh giÃ¡ tá»« ngÆ°á»i thuÃª"**
4. **Sáº½ tháº¥y cÃ¡c nÃºt quáº£n lÃ½ cho má»—i review:**
   - ğŸ‘ï¸ **Eye icon**: áº¨n/Hiá»‡n Ä‘Ã¡nh giÃ¡
   - ğŸ—‘ï¸ **Trash icon**: XÃ³a Ä‘Ã¡nh giÃ¡

### **Trong trang quáº£n lÃ½ tÃ i sáº£n (HostDashboard):**
1. **VÃ o Host Dashboard**
2. **Chá»n "Quáº£n lÃ½ tÃ i sáº£n"**
3. **Chá»n nhÃ  cá»¥ thá»ƒ**
4. **Sáº½ cÃ³ tab "Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡" riÃªng biá»‡t**

## ğŸ¨ **Giao diá»‡n quáº£n lÃ½:**

### **Review hiá»ƒn thá»‹ bÃ¬nh thÆ°á»ng:**
- Ná»n tráº¯ng, opacity 100%
- CÃ³ nÃºt "áº¨n Ä‘Ã¡nh giÃ¡" (EyeOff icon)
- CÃ³ nÃºt "XÃ³a Ä‘Ã¡nh giÃ¡" (Trash icon)

### **Review Ä‘Ã£ bá»‹ áº©n:**
- Ná»n xÃ¡m nháº¡t, opacity 70%
- CÃ³ badge "ÄÃ¡nh giÃ¡ Ä‘Ã£ bá»‹ áº©n" mÃ u vÃ ng
- CÃ³ nÃºt "Hiá»‡n Ä‘Ã¡nh giÃ¡" (Eye icon)
- Váº«n cÃ³ nÃºt "XÃ³a Ä‘Ã¡nh giÃ¡"

### **Thá»‘ng kÃª tá»•ng quan:**
- â­ **Rating trung bÃ¬nh**: TÃ­nh tá»« táº¥t cáº£ review (ká»ƒ cáº£ áº©n)
- ğŸ“Š **Sá»‘ review hiá»ƒn thá»‹**: Chá»‰ nhá»¯ng review Ä‘ang hiá»ƒn thá»‹
- ğŸ‘ï¸ **Sá»‘ review áº©n**: Nhá»¯ng review Ä‘Ã£ bá»‹ áº©n

## âš ï¸ **LÆ°u Ã½ quan trá»ng:**

### **Vá» rating trung bÃ¬nh:**
- **Review áº©n váº«n tÃ­nh vÃ o rating trung bÃ¬nh**
- **Review bá»‹ xÃ³a sáº½ khÃ´ng tÃ­nh vÃ o rating trung bÃ¬nh**
- **Äiá»u nÃ y Ä‘áº£m báº£o tÃ­nh cÃ´ng báº±ng cho chá»§ nhÃ **

### **Vá» quyá»n háº¡n:**
- **Chá»‰ chá»§ nhÃ  má»›i cÃ³ quyá»n quáº£n lÃ½ review cá»§a nhÃ  mÃ¬nh**
- **Admin cÃ³ quyá»n quáº£n lÃ½ táº¥t cáº£ review**
- **User thÆ°á»ng chá»‰ cÃ³ thá»ƒ edit/delete review cá»§a mÃ¬nh**

### **Vá» dá»¯ liá»‡u:**
- **Review áº©n váº«n tá»“n táº¡i trong database**
- **Review bá»‹ xÃ³a sáº½ máº¥t hoÃ n toÃ n**
- **CÃ³ thá»ƒ xem lá»‹ch sá»­ review áº©n trong admin panel**

## ğŸ”§ **CÃ¡ch implement:**

### **1. Backend API:**
```java
// Toggle review visibility
PUT /api/reviews/{id}/toggle-visibility

// Delete review
DELETE /api/reviews/{id}
```

### **2. Frontend Components:**
- **ReviewSection.jsx**: Hiá»ƒn thá»‹ nÃºt quáº£n lÃ½ cho chá»§ nhÃ 
- **ReviewManagement.jsx**: Component riÃªng Ä‘á»ƒ quáº£n lÃ½ review
- **reviewApi.jsx**: API calls cho toggle visibility vÃ  delete

### **3. Logic xá»­ lÃ½:**
- **áº¨n review**: Chá»‰ thay Ä‘á»•i `isVisible = false`
- **XÃ³a review**: XÃ³a hoÃ n toÃ n khá»i database
- **Hiá»ƒn thá»‹**: Filter review theo `isVisible !== false`

## ğŸ“± **Responsive Design:**

- **Desktop**: Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin vÃ  nÃºt báº¥m
- **Tablet**: Tá»‘i Æ°u layout cho mÃ n hÃ¬nh vá»«a
- **Mobile**: Stack layout, nÃºt báº¥m dá»… thao tÃ¡c

## ğŸ§ª **Test Cases:**

### **Test áº©n review:**
1. Chá»§ nhÃ  áº©n má»™t review
2. Kiá»ƒm tra review cÃ³ bá»‹ áº©n khÃ´ng
3. Kiá»ƒm tra rating trung bÃ¬nh cÃ³ thay Ä‘á»•i khÃ´ng
4. Kiá»ƒm tra sá»‘ review hiá»ƒn thá»‹ cÃ³ giáº£m khÃ´ng

### **Test hiá»‡n review:**
1. Chá»§ nhÃ  hiá»‡n láº¡i review Ä‘Ã£ áº©n
2. Kiá»ƒm tra review cÃ³ hiá»ƒn thá»‹ láº¡i khÃ´ng
3. Kiá»ƒm tra sá»‘ review hiá»ƒn thá»‹ cÃ³ tÄƒng khÃ´ng

### **Test xÃ³a review:**
1. Chá»§ nhÃ  xÃ³a má»™t review
2. Kiá»ƒm tra review cÃ³ bá»‹ xÃ³a khÃ´ng
3. Kiá»ƒm tra rating trung bÃ¬nh cÃ³ thay Ä‘á»•i khÃ´ng
4. Kiá»ƒm tra tá»•ng sá»‘ review cÃ³ giáº£m khÃ´ng

## ğŸš¨ **Troubleshooting:**

### **Lá»—i thÆ°á»ng gáº·p:**
1. **"KhÃ´ng cÃ³ quyá»n"**: Kiá»ƒm tra user cÃ³ pháº£i chá»§ nhÃ  khÃ´ng
2. **"Review khÃ´ng tá»“n táº¡i"**: Kiá»ƒm tra reviewId cÃ³ Ä‘Ãºng khÃ´ng
3. **"Lá»—i server"**: Kiá»ƒm tra backend cÃ³ hoáº¡t Ä‘á»™ng khÃ´ng

### **Debug:**
- Sá»­ dá»¥ng console.log Ä‘á»ƒ kiá»ƒm tra data
- Kiá»ƒm tra network requests trong DevTools
- Kiá»ƒm tra backend logs

## ğŸ“‹ **Checklist hoÃ n thÃ nh:**

- [x] Táº¡o component ReviewManagement
- [x] Cáº­p nháº­t ReviewSection vá»›i nÃºt quáº£n lÃ½ cho chá»§ nhÃ 
- [x] ThÃªm method toggleReviewVisibility vÃ o reviewApi
- [x] Cáº­p nháº­t logic hiá»ƒn thá»‹ review (chá»‰ hiá»ƒn thá»‹ review visible)
- [x] Cáº­p nháº­t logic tÃ­nh rating trung bÃ¬nh (bao gá»“m cáº£ review áº©n)
- [x] ThÃªm CSS cho nÃºt áº©n/hiá»‡n
- [x] Test tÃ­nh nÄƒng áº©n/hiá»‡n review
- [x] Test tÃ­nh nÄƒng xÃ³a review
- [x] Test hiá»ƒn thá»‹ thá»‘ng kÃª chÃ­nh xÃ¡c

## ğŸ‰ **Káº¿t quáº£ mong Ä‘á»£i:**

- âœ… Chá»§ nhÃ  cÃ³ thá»ƒ áº©n review khÃ´ng mong muá»‘n
- âœ… Chá»§ nhÃ  cÃ³ thá»ƒ xÃ³a review vi pháº¡m
- âœ… Rating trung bÃ¬nh váº«n chÃ­nh xÃ¡c
- âœ… Giao diá»‡n thÃ¢n thiá»‡n vÃ  dá»… sá»­ dá»¥ng
- âœ… Responsive trÃªn má»i thiáº¿t bá»‹
- âœ… Báº£o máº­t vÃ  phÃ¢n quyá»n rÃµ rÃ ng
